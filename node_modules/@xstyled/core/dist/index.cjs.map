{"version":3,"file":"index.cjs","sources":["../src/breakpoints.ts","../src/customProperties.ts","../src/colorModes.tsx","../src/createBox.ts","../src/mediaGetters.ts","../src/transform.ts","../src/theme.ts"],"sourcesContent":["/* eslint-disable no-undef */\nimport * as React from 'react'\nimport { getScreens, ITheme, Screens } from '@xstyled/system'\n\nexport function useThemeScreens(theme: ITheme): Screens {\n  return getScreens({ theme })\n}\n\n/**\n * Minimum breakpoint width.\n * Null for the smallest breakpoint.\n */\nfunction useThemeMinValue(theme: ITheme, key: string | number): number | null {\n  const screens = useThemeScreens(theme)\n  const value = screens[key]\n  return value === 0 ? null : value\n}\n\n/**\n * Maximum breakpoint width. Null for the largest (last) breakpoint.\n * The maximum value is calculated as the minimum of the next one less 0.02px\n * to work around the limitations of `min-` and `max-` prefixes and viewports with fractional widths.\n * See https://www.w3.org/TR/mediaqueries-4/#mq-min-max\n * Uses 0.02px rather than 0.01px to work around a current rounding bug in Safari.\n * See https://bugs.webkit.org/show_bug.cgi?id=178261\n */\nfunction useThemeMaxValue(theme: ITheme, key: string | number): number | null {\n  const screens = useThemeScreens(theme)\n  const breakPoint = screens[key]\n  return breakPoint === 0 ? null : breakPoint - 0.02\n}\n\nexport function useViewportWidth(): number | null {\n  const [width, setWidth] = React.useState(\n    typeof window === 'undefined' ? null : window.innerWidth,\n  )\n\n  React.useEffect(() => {\n    function handleResize() {\n      setWidth(window.innerWidth)\n    }\n\n    // Add the listener, then setWidth to avoid race.\n    window.addEventListener('resize', handleResize)\n    setWidth(window.innerWidth)\n\n    return () => window.removeEventListener('resize', handleResize)\n  }, [])\n\n  return width\n}\n\nexport function useThemeBreakpoint(theme: ITheme): string | null {\n  const screns = useThemeScreens(theme)\n  const width = useViewportWidth()\n  return React.useMemo(() => {\n    return (\n      Object.keys(screns)\n        .reverse()\n        .find((screen) => width !== null && width > screns[screen]) || null\n    )\n  }, [screns, width])\n}\n\nexport function useThemeUp(theme: ITheme, key: string | number): boolean {\n  const value = useThemeMinValue(theme, key)\n  const width = useViewportWidth()\n  return width !== null && value !== null && width >= value\n}\n\nexport function useThemeDown(theme: ITheme, key: string | number): boolean {\n  const value = useThemeMaxValue(theme, key)\n  const width = useViewportWidth()\n  return width !== null && value !== null && width < value\n}\n","import { obj, string, func, cascade } from '@xstyled/util'\nimport { ITheme } from '@xstyled/system'\n\nconst join = (...args: (string | undefined)[]): string =>\n  args.filter(Boolean).join('.')\n\nconst toVarName = (key: string): string => `--${key.replace(/\\./g, '-')}`\nconst toVarValue = (key: string, value: string): string =>\n  `var(${toVarName(key)}, ${value})`\nconst toProp = (key: string, value: string): string => `${key}: ${value};`\n\nexport function toCustomPropertiesReferences<\n  T extends Record<string | number, unknown>\n>(\n  values: T,\n  theme?: ITheme,\n  keys: string[] = Object.keys(values),\n  parent?: string,\n): Record<string | number, unknown> {\n  const next: Record<string | number, unknown> = Array.isArray(values)\n    ? ([] as Record<number, string>)\n    : ({} as Record<string, string>)\n\n  for (const i in keys) {\n    const key = keys[i]\n    const value = values[key]\n    const name = join(parent, key)\n    if (obj(value)) {\n      next[key] = toCustomPropertiesReferences(\n        value as { [key: string]: unknown },\n        theme,\n        Object.keys(value),\n        name,\n      )\n      continue\n    }\n    if (string(value)) {\n      next[key] = toVarValue(name, value)\n      continue\n    }\n    if (func(value)) {\n      next[key] = toVarValue(name, cascade(value, { theme }))\n      continue\n    }\n  }\n\n  return next\n}\n\nexport function toCustomPropertiesDeclarations(\n  values: { [key: string]: unknown },\n  theme?: ITheme,\n  keys: string[] = Object.keys(values),\n  parent?: string,\n  state = { value: '' },\n): string {\n  for (const i in keys) {\n    const key = keys[i]\n    const value = values[key]\n    const name = join(parent, key)\n    if (obj(value)) {\n      toCustomPropertiesDeclarations(\n        value as { [key: string]: unknown },\n        theme,\n        Object.keys(value),\n        name,\n        state,\n      )\n      continue\n    }\n    if (string(value)) {\n      state.value += toProp(toVarName(name), value)\n      continue\n    }\n    if (func(value)) {\n      state.value += toProp(toVarName(name), cascade(value, { theme }))\n      continue\n    }\n  }\n\n  return state.value\n}\n","/* eslint-disable @typescript-eslint/no-empty-function */\n/* eslint-disable react/no-danger */\n/* eslint-env browser */\nimport * as React from 'react'\nimport { Colors } from '@xstyled/system'\nimport {\n  toCustomPropertiesDeclarations,\n  toCustomPropertiesReferences,\n} from './customProperties'\n\ntype ColorModeState = [string | null, (mode: string | null) => void]\n\ninterface ColorModes {\n  [key: string]: Colors\n}\n\ninterface ITheme {\n  useCustomProperties?: boolean\n  useColorSchemeMediaQuery?: boolean\n  initialColorModeName?: string\n  defaultColorModeName?: string\n  colors?: Colors & {\n    modes?: ColorModes\n  }\n}\n\ninterface IColorModeTheme extends ITheme {\n  colors: Colors & { modes: ColorModes }\n}\n\nconst STORAGE_KEY = 'xstyled-color-mode'\n\nconst isLocalStorageAvailable: boolean =\n  typeof window !== 'undefined' &&\n  (() => {\n    try {\n      const key = 'xstyled-test-key'\n      window.localStorage.setItem(key, key)\n      window.localStorage.removeItem(key)\n      return true\n    } catch (err) {\n      return false\n    }\n  })()\n\ninterface Storage {\n  get(): string | null\n  set(value: string): void\n  clear(): void\n}\n\nconst storage: Storage = isLocalStorageAvailable\n  ? {\n      get: () => window.localStorage.getItem(STORAGE_KEY),\n      set: (value: string) => {\n        window.localStorage.setItem(STORAGE_KEY, value)\n      },\n      clear: () => window.localStorage.removeItem(STORAGE_KEY),\n    }\n  : {\n      get: () => null,\n      set: () => {},\n      clear: () => {},\n    }\n\nconst COLOR_MODE_CLASS_PREFIX = 'xstyled-color-mode-'\nconst getColorModeClassName = (mode: string) =>\n  `${COLOR_MODE_CLASS_PREFIX}${mode}`\n\nconst XSTYLED_COLORS_PREFIX = 'xstyled-colors'\nconst SYSTEM_MODES = ['light', 'dark']\n\nfunction getModeTheme(theme: IColorModeTheme, mode: string): IColorModeTheme {\n  return {\n    ...theme,\n    colors: { ...theme.colors, ...theme.colors.modes[mode] },\n  }\n}\n\nconst getMediaQuery = (query: string): string => `@media ${query}`\nconst getColorModeQuery = (mode: string): string =>\n  `(prefers-color-scheme: ${mode})`\n\nfunction checkHasColorModes(theme: ITheme | null): theme is IColorModeTheme {\n  return Boolean(theme && theme.colors && theme.colors.modes)\n}\n\nfunction checkHasCustomPropertiesEnabled(theme: ITheme | null): boolean {\n  return Boolean(\n    theme &&\n      (theme.useCustomProperties === undefined || theme.useCustomProperties),\n  )\n}\n\nfunction checkHasMediaQueryEnabled(theme: ITheme | null): boolean {\n  return Boolean(\n    theme &&\n      (theme.useColorSchemeMediaQuery === undefined ||\n        theme.useColorSchemeMediaQuery),\n  )\n}\n\nfunction getInitialColorModeName(theme: ITheme): string {\n  return theme.initialColorModeName || 'default'\n}\n\nfunction getDefaultColorModeName(theme: ITheme): string {\n  return theme.defaultColorModeName || getInitialColorModeName(theme)\n}\n\nfunction getUsedColorKeys(modes: ColorModes) {\n  let keys: string[] = []\n  for (const key in modes) {\n    keys = [...keys, ...Object.keys(modes[key])]\n  }\n  return keys\n}\n\nexport function createColorStyles(\n  theme: ITheme,\n  { targetSelector = 'body' } = {},\n): string | null {\n  if (!checkHasColorModes(theme)) return null\n\n  const { modes, ...colors } = theme.colors\n  const colorKeys = getUsedColorKeys(modes)\n\n  let styles = toCustomPropertiesDeclarations(\n    colors,\n    theme,\n    colorKeys,\n    XSTYLED_COLORS_PREFIX,\n  )\n\n  function getModePropertiesDeclarations(mode: string) {\n    const modeTheme = getModeTheme(theme as IColorModeTheme, mode)\n    const { modes, ...colors } = modeTheme.colors\n    return toCustomPropertiesDeclarations(\n      { ...colors, ...modes[mode] },\n      modeTheme,\n      colorKeys,\n      XSTYLED_COLORS_PREFIX,\n    )\n  }\n\n  if (theme.useColorSchemeMediaQuery !== false) {\n    SYSTEM_MODES.forEach((mode) => {\n      if (modes[mode]) {\n        const mediaQuery = getMediaQuery(getColorModeQuery(mode))\n        styles += `${mediaQuery}{${getModePropertiesDeclarations(mode)}}`\n      }\n    })\n  }\n\n  const initialModeName = getInitialColorModeName(theme)\n  ;[initialModeName, ...Object.keys(modes)].forEach((mode) => {\n    const key = `&.${getColorModeClassName(mode)}`\n    styles += `${key}{${getModePropertiesDeclarations(mode)}}`\n  })\n\n  return `${targetSelector}{${styles}}`\n}\n\nfunction getSystemModeMql(mode: string) {\n  if (typeof window === 'undefined' || window.matchMedia === undefined) {\n    return null\n  }\n  const query = getColorModeQuery(mode)\n  return window.matchMedia(query)\n}\n\nfunction useSystemMode(theme: ITheme) {\n  const configs: { mode: string; mql: MediaQueryList }[] = React.useMemo(() => {\n    if (!checkHasMediaQueryEnabled(theme)) return []\n    return SYSTEM_MODES.map((mode) => {\n      if (!checkHasColorModes(theme)) return null\n      if (!theme.colors.modes[mode]) return null\n      const mql = getSystemModeMql(mode)\n      return mql ? { mode, mql } : null\n    }).filter(Boolean) as { mode: string; mql: MediaQueryList }[]\n  }, [theme])\n\n  const [systemMode, setSystemMode] = React.useState(() => {\n    const config = configs.find((config) => config.mql.matches)\n    return config ? config.mode : null\n  })\n\n  React.useEffect(() => {\n    const cleans = configs.map(({ mode, mql }) => {\n      const handler = ({ matches }: MediaQueryListEvent) => {\n        if (matches) {\n          setSystemMode(mode)\n        } else {\n          setSystemMode((previousMode) => (previousMode === mode ? null : mode))\n        }\n      }\n      mql.addEventListener('change', handler)\n      return () => mql.removeEventListener('change', handler)\n    })\n    return () => cleans.forEach((clean) => clean())\n  })\n\n  return systemMode\n}\n\nconst useIsomorphicLayoutEffect =\n  typeof window !== 'undefined' ? React.useLayoutEffect : React.useEffect\n\nexport function useColorModeState(\n  theme: ITheme,\n  { target }: { target?: Element } = {},\n): ColorModeState {\n  const systemMode = useSystemMode(theme)\n  const defaultColorMode = getDefaultColorModeName(theme)\n  const initialColorMode = getInitialColorModeName(theme)\n  const [mode, setMode] = React.useState(() => {\n    if (!checkHasColorModes(theme)) return null\n    return defaultColorMode\n  })\n\n  // Add mode className\n  const customPropertiesEnabled = checkHasCustomPropertiesEnabled(theme)\n\n  const manualSetRef = React.useRef(false)\n  const manuallySetMode = React.useCallback((value) => {\n    manualSetRef.current = true\n    setMode(value)\n  }, [])\n\n  // Set initial color mode in lazy\n  useIsomorphicLayoutEffect(() => {\n    if (!checkHasColorModes(theme)) return\n    const storedMode = storage.get()\n    const initialMode = storedMode || systemMode || defaultColorMode\n    if (mode !== initialMode) {\n      setMode(storedMode || systemMode || defaultColorMode)\n    }\n  }, [])\n\n  // Store mode preference\n  useIsomorphicLayoutEffect(() => {\n    if (manualSetRef.current) {\n      if (mode) {\n        storage.set(mode)\n      } else {\n        storage.clear()\n      }\n    }\n  }, [mode])\n\n  // Sync system mode\n  useIsomorphicLayoutEffect(() => {\n    const storedMode = storage.get()\n    if (storedMode) return\n    const targetMode = systemMode || defaultColorMode\n    if (targetMode === mode) return\n    setMode(targetMode)\n  }, [mode, systemMode, defaultColorMode])\n\n  // Add and remove class names\n  useIsomorphicLayoutEffect(() => {\n    if (!mode) return undefined\n    if (!customPropertiesEnabled) return undefined\n    const stored = storage.get()\n    const initial = initialColorMode !== mode\n    if (!stored && !initial) return undefined\n    const className = getColorModeClassName(mode)\n    const usedTarget = target || document.body\n    usedTarget.classList.add(className)\n    return () => {\n      usedTarget.classList.remove(className)\n    }\n  }, [customPropertiesEnabled, target, mode, initialColorMode])\n\n  return [mode, manuallySetMode]\n}\n\nexport function useColorModeTheme(\n  theme: ITheme,\n  mode: string | null,\n): ITheme | null {\n  const [initialMode] = React.useState(mode)\n  const customPropertiesTheme = React.useMemo(() => {\n    if (!initialMode) return null\n    if (!checkHasCustomPropertiesEnabled(theme)) return null\n    if (!checkHasColorModes(theme)) return theme\n    const { modes, ...colors } = theme.colors\n    const colorKeys = getUsedColorKeys(modes)\n\n    return {\n      ...theme,\n      colors: {\n        ...colors,\n        ...toCustomPropertiesReferences(\n          colors,\n          theme,\n          colorKeys,\n          XSTYLED_COLORS_PREFIX,\n        ),\n        modes,\n      },\n      __rawColors: theme.colors,\n    }\n  }, [initialMode, theme])\n\n  const swapModeTheme = React.useMemo(() => {\n    if (!mode) return null\n    if (checkHasCustomPropertiesEnabled(theme)) return null\n    if (!checkHasColorModes(theme)) return theme\n\n    if (mode === getInitialColorModeName(theme)) {\n      return { ...theme, __colorMode: mode }\n    }\n\n    return {\n      ...theme,\n      colors: {\n        ...theme.colors,\n        ...theme.colors.modes[mode],\n      },\n      __colorMode: mode,\n      __rawColors: theme.colors,\n    }\n  }, [theme, mode])\n\n  return (customPropertiesTheme || swapModeTheme) as ITheme\n}\n\nexport const ColorModeContext = React.createContext<ColorModeState | null>(null)\n\nexport function useColorMode(): ColorModeState {\n  const colorModeState = React.useContext(ColorModeContext)\n\n  if (!colorModeState) {\n    throw new Error(`[useColorMode] requires the ColorModeProvider component`)\n  }\n\n  return colorModeState\n}\n\nexport interface ColorModeProviderProps {\n  children: React.ReactNode\n  target?: Element\n  targetSelector?: string\n}\n\nexport function createColorModeProvider({\n  ThemeContext,\n  ThemeProvider,\n  ColorModeStyle,\n}: {\n  ThemeContext: React.Context<any>\n  ThemeProvider: React.ComponentType<any>\n  ColorModeStyle: React.ComponentType<any>\n}): React.FC<ColorModeProviderProps> {\n  function ColorModeProvider({\n    children,\n    target,\n    targetSelector,\n  }: ColorModeProviderProps) {\n    const theme = React.useContext(ThemeContext)\n    if (!theme) {\n      throw new Error(\n        '[ColorModeProvider] requires ThemeProvider upper in the tree',\n      )\n    }\n    const colorState = useColorModeState(theme, { target })\n    const colorModeTheme = useColorModeTheme(theme, colorState[0])\n    return (\n      <>\n        <ColorModeStyle targetSelector={targetSelector} />\n        <ThemeProvider theme={colorModeTheme}>\n          <ColorModeContext.Provider value={colorState}>\n            {children}\n          </ColorModeContext.Provider>\n        </ThemeProvider>\n      </>\n    )\n  }\n  return ColorModeProvider\n}\n\ninterface GetInitScriptOptions {\n  target?: string\n}\n\nfunction getInitScript({\n  target = 'document.body',\n}: GetInitScriptOptions = {}) {\n  return `(function() { try {\n    var mode = localStorage.getItem('${STORAGE_KEY}');\n    if (mode) ${target}.classList.add('${COLOR_MODE_CLASS_PREFIX}' + mode);\n  } catch (e) {} })();`\n}\n\nexport function getColorModeInitScriptElement(\n  options?: GetInitScriptOptions,\n): JSX.Element {\n  return (\n    <script\n      key=\"xstyled-color-mode-init\"\n      dangerouslySetInnerHTML={{ __html: getInitScript(options) }}\n    />\n  )\n}\n\nexport function getColorModeInitScriptTag(\n  options?: GetInitScriptOptions,\n): string {\n  return `<script>${getInitScript(options)}</script>`\n}\n","import { system } from '@xstyled/system'\n\nexport function createBox(): (string | typeof system)[] {\n  return [`&&{`, system, `}`]\n}\ncreateBox.meta = system.meta\n","import { getScreens, getBreakpointMin, getBreakpointMax } from '@xstyled/system'\n\nconst getMediaWidth = (getBreakpointBound: any) => (value: any) => (\n  props: any,\n) => {\n  const v = getBreakpointBound(getScreens(props), value)\n  // getters return null for smallest, undefined for not found, and otherwise\n  // a px string. Since we MUST emit a matcher at this point, use 0px for the\n  // smallest case (always true for min, never true for max).\n  return v === null ? '0' : v || value\n}\n\nexport const mediaGetters = {\n  'min-width': getMediaWidth(getBreakpointMin),\n  'max-width': getMediaWidth(getBreakpointMax),\n}\n","/* eslint-disable no-continue, no-loop-func, no-cond-assign */\nimport type { StyleGenerator } from '@xstyled/system'\nimport { mediaGetters } from './mediaGetters'\n\n// prop name is an ident: word chars, underscore and dash.\nconst PROP_CHAR = `[-\\\\w]`\n\n// prop value consists of non-semis and no curly braces unless backslash-escaped.\n// This uses [\\s\\S] instead of . because IE11 doesn't support the s flag.\nconst VALUE_CHAR = `(?:\\\\\\\\[\\\\s\\\\S]|[^\\\\\\\\;{}])`\n\n// prettier-ignore\nconst PROP_PATT = (\n  `(${PROP_CHAR}+)` +   // capture prop name\n  `(\\\\s*:\\\\s*)` +       // colon & whitespace\n  `(?=\\\\S)` +           // prop value starts with non-whitespace\n  `(${VALUE_CHAR}*?)` + // capture prop value (non-greedy)\n  `(\\\\s*!important)?` + // capture !important\n  `(\\\\s*;)`             // semi & whitespace\n)\n\n// simplistic but workable media query value.\nconst MEDIA_CHAR = `[^{]`\n\n// prettier-ignore\nconst MEDIA_PATT = (\n  `(@media\\\\b\\\\s*)` +   // start of media query\n  `(?=\\\\S)` +           // value starts with non-whitespace\n  `(${MEDIA_CHAR}+?)` + // capture queries (non-greedy)\n  `(\\\\s*\\\\{)`           // brace & whitespace\n)\n\nconst MATCH_REGEXP = new RegExp(`(?:${PROP_PATT}|${MEDIA_PATT})`, `g`)\n\n// media query prop/value pairs such as (min-width: 1024px)\n// prettier-ignore\nconst QUERY_REGEXP = new RegExp(\n  `(\\\\(\\\\s*)` +       // open paren, whitespace\n  `(${PROP_CHAR}+)` + // capture prop name\n  `(\\\\s*:\\\\s*)` +     // colon & whitespace\n  `([^\\\\)]*?)` +      // capture prop value (non-greedy)\n  `(\\\\s*\\\\))`,        // close paren, whitespace\n  `g`\n)\n\nconst mediaTransform = (rawValue: string) => {\n  let matches\n  let lastIndex = 0\n  const values = []\n  while ((matches = QUERY_REGEXP.exec(rawValue))) {\n    const [, open, prop, colon, value, close] = matches\n    const getter = (mediaGetters as any)[prop]\n    if (getter) {\n      values.push(rawValue.slice(lastIndex, matches.index))\n      values.push(\n        (p: object) => `${open}${prop}${colon}${getter(value)(p)}${close}`,\n      )\n      lastIndex = matches.index + matches[0].length\n    }\n  }\n  values.push(rawValue.slice(lastIndex, rawValue.length))\n  return values\n}\n\nexport const createTransform =\n  (generator: StyleGenerator) =>\n  (rawValue: any): any => {\n    if (typeof rawValue !== 'string') return rawValue\n    let matches\n    let lastIndex = 0\n    const values = []\n    while ((matches = MATCH_REGEXP.exec(rawValue))) {\n      const [, prop, colon, value, imp, semi, media, query, brace] = matches\n      if (media) {\n        values.push(rawValue.slice(lastIndex, matches.index))\n        values.push(media)\n        mediaTransform(query).forEach((v) => values.push(v))\n        values.push(brace)\n        lastIndex = matches.index + matches[0].length\n      } else {\n        const getter = generator.meta.cssGetters[prop]\n        if (getter) {\n          values.push(rawValue.slice(lastIndex, matches.index))\n          values.push(\n            (p: object) =>\n              `${prop}${colon}${getter(value)(p)}${imp || ''}${semi}`,\n          )\n          lastIndex = matches.index + matches[0].length\n        }\n      }\n    }\n    values.push(rawValue.slice(lastIndex, rawValue.length))\n    return values\n  }\n","import { useMemo } from 'react'\nimport { ThemeGetter, ThemeGetterType, CSSScalar } from '@xstyled/system'\n\nexport const createUseGetter =\n  <T extends ThemeGetter>(getter: T, useTheme: () => object) =>\n  (value: ThemeGetterType<T>, defaultValue?: CSSScalar): CSSScalar => {\n    const theme = useTheme()\n    return useMemo(\n      () => getter(value, defaultValue)({ theme }),\n      [value, defaultValue, theme],\n    )\n  }\n"],"names":["getScreens","React","obj","string","func","cascade","system","getBreakpointMin","getBreakpointMax","useMemo"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEO,SAAS,eAAe,CAAC,KAAK,EAAE;AACvC,EAAE,OAAOA,iBAAU,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC;AAC/B,CAAC;AACD,SAAS,gBAAgB,CAAC,KAAK,EAAE,GAAG,EAAE;AACtC,EAAE,MAAM,OAAO,GAAG,eAAe,CAAC,KAAK,CAAC,CAAC;AACzC,EAAE,MAAM,KAAK,GAAG,OAAO,CAAC,GAAG,CAAC,CAAC;AAC7B,EAAE,OAAO,KAAK,KAAK,CAAC,GAAG,IAAI,GAAG,KAAK,CAAC;AACpC,CAAC;AACD,SAAS,gBAAgB,CAAC,KAAK,EAAE,GAAG,EAAE;AACtC,EAAE,MAAM,OAAO,GAAG,eAAe,CAAC,KAAK,CAAC,CAAC;AACzC,EAAE,MAAM,UAAU,GAAG,OAAO,CAAC,GAAG,CAAC,CAAC;AAClC,EAAE,OAAO,UAAU,KAAK,CAAC,GAAG,IAAI,GAAG,UAAU,GAAG,IAAI,CAAC;AACrD,CAAC;AACM,SAAS,gBAAgB,GAAG;AACnC,EAAE,MAAM,CAAC,KAAK,EAAE,QAAQ,CAAC,GAAGC,gBAAK,CAAC,QAAQ,CAAC,OAAO,MAAM,KAAK,WAAW,GAAG,IAAI,GAAG,MAAM,CAAC,UAAU,CAAC,CAAC;AACrG,EAAEA,gBAAK,CAAC,SAAS,CAAC,MAAM;AACxB,IAAI,SAAS,YAAY,GAAG;AAC5B,MAAM,QAAQ,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;AAClC,KAAK;AACL,IAAI,MAAM,CAAC,gBAAgB,CAAC,QAAQ,EAAE,YAAY,CAAC,CAAC;AACpD,IAAI,QAAQ,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;AAChC,IAAI,OAAO,MAAM,MAAM,CAAC,mBAAmB,CAAC,QAAQ,EAAE,YAAY,CAAC,CAAC;AACpE,GAAG,EAAE,EAAE,CAAC,CAAC;AACT,EAAE,OAAO,KAAK,CAAC;AACf,CAAC;AACM,SAAS,kBAAkB,CAAC,KAAK,EAAE;AAC1C,EAAE,MAAM,MAAM,GAAG,eAAe,CAAC,KAAK,CAAC,CAAC;AACxC,EAAE,MAAM,KAAK,GAAG,gBAAgB,EAAE,CAAC;AACnC,EAAE,OAAOA,gBAAK,CAAC,OAAO,CAAC,MAAM;AAC7B,IAAI,OAAO,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,CAAC,MAAM,KAAK,KAAK,KAAK,IAAI,IAAI,KAAK,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,IAAI,IAAI,CAAC;AAC5G,GAAG,EAAE,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC,CAAC;AACtB,CAAC;AACM,SAAS,UAAU,CAAC,KAAK,EAAE,GAAG,EAAE;AACvC,EAAE,MAAM,KAAK,GAAG,gBAAgB,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;AAC7C,EAAE,MAAM,KAAK,GAAG,gBAAgB,EAAE,CAAC;AACnC,EAAE,OAAO,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,IAAI,KAAK,CAAC;AAC5D,CAAC;AACM,SAAS,YAAY,CAAC,KAAK,EAAE,GAAG,EAAE;AACzC,EAAE,MAAM,KAAK,GAAG,gBAAgB,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;AAC7C,EAAE,MAAM,KAAK,GAAG,gBAAgB,EAAE,CAAC;AACnC,EAAE,OAAO,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,GAAG,KAAK,CAAC;AAC3D;;AC1CA,MAAM,IAAI,GAAG,CAAC,GAAG,IAAI,KAAK,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;AACzD,MAAM,SAAS,GAAG,CAAC,GAAG,KAAK,CAAC,EAAE,EAAE,GAAG,CAAC,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC;AAC1D,MAAM,UAAU,GAAG,CAAC,GAAG,EAAE,KAAK,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC;AACtE,MAAM,MAAM,GAAG,CAAC,GAAG,EAAE,KAAK,KAAK,CAAC,EAAE,GAAG,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC;AAC5C,SAAS,4BAA4B,CAAC,MAAM,EAAE,KAAK,EAAE,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,MAAM,EAAE;AAChG,EAAE,MAAM,IAAI,GAAG,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,GAAG,EAAE,GAAG,EAAE,CAAC;AAC/C,EAAE,KAAK,MAAM,CAAC,IAAI,IAAI,EAAE;AACxB,IAAI,MAAM,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;AACxB,IAAI,MAAM,KAAK,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC;AAC9B,IAAI,MAAM,IAAI,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;AACnC,IAAI,IAAIC,QAAG,CAAC,KAAK,CAAC,EAAE;AACpB,MAAM,IAAI,CAAC,GAAG,CAAC,GAAG,4BAA4B,CAAC,KAAK,EAAE,KAAK,EAAE,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,IAAI,CAAC,CAAC;AACvF,MAAM,SAAS;AACf,KAAK;AACL,IAAI,IAAIC,WAAM,CAAC,KAAK,CAAC,EAAE;AACvB,MAAM,IAAI,CAAC,GAAG,CAAC,GAAG,UAAU,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;AAC1C,MAAM,SAAS;AACf,KAAK;AACL,IAAI,IAAIC,SAAI,CAAC,KAAK,CAAC,EAAE;AACrB,MAAM,IAAI,CAAC,GAAG,CAAC,GAAG,UAAU,CAAC,IAAI,EAAEC,YAAO,CAAC,KAAK,EAAE,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC;AAC9D,MAAM,SAAS;AACf,KAAK;AACL,GAAG;AACH,EAAE,OAAO,IAAI,CAAC;AACd,CAAC;AACM,SAAS,8BAA8B,CAAC,MAAM,EAAE,KAAK,EAAE,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,MAAM,EAAE,KAAK,GAAG,EAAE,KAAK,EAAE,EAAE,EAAE,EAAE;AACzH,EAAE,KAAK,MAAM,CAAC,IAAI,IAAI,EAAE;AACxB,IAAI,MAAM,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;AACxB,IAAI,MAAM,KAAK,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC;AAC9B,IAAI,MAAM,IAAI,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;AACnC,IAAI,IAAIH,QAAG,CAAC,KAAK,CAAC,EAAE;AACpB,MAAM,8BAA8B,CAAC,KAAK,EAAE,KAAK,EAAE,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC;AACpF,MAAM,SAAS;AACf,KAAK;AACL,IAAI,IAAIC,WAAM,CAAC,KAAK,CAAC,EAAE;AACvB,MAAM,KAAK,CAAC,KAAK,IAAI,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,KAAK,CAAC,CAAC;AACpD,MAAM,SAAS;AACf,KAAK;AACL,IAAI,IAAIC,SAAI,CAAC,KAAK,CAAC,EAAE;AACrB,MAAM,KAAK,CAAC,KAAK,IAAI,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,EAAEC,YAAO,CAAC,KAAK,EAAE,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC;AACxE,MAAM,SAAS;AACf,KAAK;AACL,GAAG;AACH,EAAE,OAAO,KAAK,CAAC,KAAK,CAAC;AACrB;;AC7CA,IAAI,SAAS,GAAG,MAAM,CAAC,cAAc,CAAC;AACtC,IAAI,UAAU,GAAG,MAAM,CAAC,gBAAgB,CAAC;AACzC,IAAI,iBAAiB,GAAG,MAAM,CAAC,yBAAyB,CAAC;AACzD,IAAI,mBAAmB,GAAG,MAAM,CAAC,qBAAqB,CAAC;AACvD,IAAI,YAAY,GAAG,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC;AACnD,IAAI,YAAY,GAAG,MAAM,CAAC,SAAS,CAAC,oBAAoB,CAAC;AACzD,IAAI,eAAe,GAAG,CAAC,GAAG,EAAE,GAAG,EAAE,KAAK,KAAK,GAAG,IAAI,GAAG,GAAG,SAAS,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE,UAAU,EAAE,IAAI,EAAE,YAAY,EAAE,IAAI,EAAE,QAAQ,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;AAChK,IAAI,cAAc,GAAG,CAAC,CAAC,EAAE,CAAC,KAAK;AAC/B,EAAE,KAAK,IAAI,IAAI,IAAI,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC;AAChC,IAAI,IAAI,YAAY,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC;AAClC,MAAM,eAAe,CAAC,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;AACxC,EAAE,IAAI,mBAAmB;AACzB,IAAI,KAAK,IAAI,IAAI,IAAI,mBAAmB,CAAC,CAAC,CAAC,EAAE;AAC7C,MAAM,IAAI,YAAY,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC;AACpC,QAAQ,eAAe,CAAC,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;AAC1C,KAAK;AACL,EAAE,OAAO,CAAC,CAAC;AACX,CAAC,CAAC;AACF,IAAI,aAAa,GAAG,CAAC,CAAC,EAAE,CAAC,KAAK,UAAU,CAAC,CAAC,EAAE,iBAAiB,CAAC,CAAC,CAAC,CAAC,CAAC;AAClE,IAAI,SAAS,GAAG,CAAC,MAAM,EAAE,OAAO,KAAK;AACrC,EAAE,IAAI,MAAM,GAAG,EAAE,CAAC;AAClB,EAAE,KAAK,IAAI,IAAI,IAAI,MAAM;AACzB,IAAI,IAAI,YAAY,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,IAAI,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC;AACpE,MAAM,MAAM,CAAC,IAAI,CAAC,GAAG,MAAM,CAAC,IAAI,CAAC,CAAC;AAClC,EAAE,IAAI,MAAM,IAAI,IAAI,IAAI,mBAAmB;AAC3C,IAAI,KAAK,IAAI,IAAI,IAAI,mBAAmB,CAAC,MAAM,CAAC,EAAE;AAClD,MAAM,IAAI,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,YAAY,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC;AACtE,QAAQ,MAAM,CAAC,IAAI,CAAC,GAAG,MAAM,CAAC,IAAI,CAAC,CAAC;AACpC,KAAK;AACL,EAAE,OAAO,MAAM,CAAC;AAChB,CAAC,CAAC;AAMF,MAAM,WAAW,GAAG,oBAAoB,CAAC;AACzC,MAAM,uBAAuB,GAAG,OAAO,MAAM,KAAK,WAAW,IAAI,CAAC,MAAM;AACxE,EAAE,IAAI;AACN,IAAI,MAAM,GAAG,GAAG,kBAAkB,CAAC;AACnC,IAAI,MAAM,CAAC,YAAY,CAAC,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;AAC1C,IAAI,MAAM,CAAC,YAAY,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;AACxC,IAAI,OAAO,IAAI,CAAC;AAChB,GAAG,CAAC,OAAO,GAAG,EAAE;AAChB,IAAI,OAAO,KAAK,CAAC;AACjB,GAAG;AACH,CAAC,GAAG,CAAC;AACL,MAAM,OAAO,GAAG,uBAAuB,GAAG;AAC1C,EAAE,GAAG,EAAE,MAAM,MAAM,CAAC,YAAY,CAAC,OAAO,CAAC,WAAW,CAAC;AACrD,EAAE,GAAG,EAAE,CAAC,KAAK,KAAK;AAClB,IAAI,MAAM,CAAC,YAAY,CAAC,OAAO,CAAC,WAAW,EAAE,KAAK,CAAC,CAAC;AACpD,GAAG;AACH,EAAE,KAAK,EAAE,MAAM,MAAM,CAAC,YAAY,CAAC,UAAU,CAAC,WAAW,CAAC;AAC1D,CAAC,GAAG;AACJ,EAAE,GAAG,EAAE,MAAM,IAAI;AACjB,EAAE,GAAG,EAAE,MAAM;AACb,GAAG;AACH,EAAE,KAAK,EAAE,MAAM;AACf,GAAG;AACH,CAAC,CAAC;AACF,MAAM,uBAAuB,GAAG,qBAAqB,CAAC;AACtD,MAAM,qBAAqB,GAAG,CAAC,IAAI,KAAK,CAAC,EAAE,uBAAuB,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC;AAC5E,MAAM,qBAAqB,GAAG,gBAAgB,CAAC;AAC/C,MAAM,YAAY,GAAG,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;AACvC,SAAS,YAAY,CAAC,KAAK,EAAE,IAAI,EAAE;AACnC,EAAE,OAAO,aAAa,CAAC,cAAc,CAAC,EAAE,EAAE,KAAK,CAAC,EAAE;AAClD,IAAI,MAAM,EAAE,cAAc,CAAC,cAAc,CAAC,EAAE,EAAE,KAAK,CAAC,MAAM,CAAC,EAAE,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;AACtF,GAAG,CAAC,CAAC;AACL,CAAC;AACD,MAAM,aAAa,GAAG,CAAC,KAAK,KAAK,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC,CAAC;AACnD,MAAM,iBAAiB,GAAG,CAAC,IAAI,KAAK,CAAC,uBAAuB,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC;AACtE,SAAS,kBAAkB,CAAC,KAAK,EAAE;AACnC,EAAE,OAAO,OAAO,CAAC,KAAK,IAAI,KAAK,CAAC,MAAM,IAAI,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;AAC9D,CAAC;AACD,SAAS,+BAA+B,CAAC,KAAK,EAAE;AAChD,EAAE,OAAO,OAAO,CAAC,KAAK,KAAK,KAAK,CAAC,mBAAmB,KAAK,KAAK,CAAC,IAAI,KAAK,CAAC,mBAAmB,CAAC,CAAC,CAAC;AAC/F,CAAC;AACD,SAAS,yBAAyB,CAAC,KAAK,EAAE;AAC1C,EAAE,OAAO,OAAO,CAAC,KAAK,KAAK,KAAK,CAAC,wBAAwB,KAAK,KAAK,CAAC,IAAI,KAAK,CAAC,wBAAwB,CAAC,CAAC,CAAC;AACzG,CAAC;AACD,SAAS,uBAAuB,CAAC,KAAK,EAAE;AACxC,EAAE,OAAO,KAAK,CAAC,oBAAoB,IAAI,SAAS,CAAC;AACjD,CAAC;AACD,SAAS,uBAAuB,CAAC,KAAK,EAAE;AACxC,EAAE,OAAO,KAAK,CAAC,oBAAoB,IAAI,uBAAuB,CAAC,KAAK,CAAC,CAAC;AACtE,CAAC;AACD,SAAS,gBAAgB,CAAC,KAAK,EAAE;AACjC,EAAE,IAAI,IAAI,GAAG,EAAE,CAAC;AAChB,EAAE,KAAK,MAAM,GAAG,IAAI,KAAK,EAAE;AAC3B,IAAI,IAAI,GAAG,CAAC,GAAG,IAAI,EAAE,GAAG,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;AACjD,GAAG;AACH,EAAE,OAAO,IAAI,CAAC;AACd,CAAC;AACM,SAAS,iBAAiB,CAAC,KAAK,EAAE,EAAE,cAAc,GAAG,MAAM,EAAE,GAAG,EAAE,EAAE;AAC3E,EAAE,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC;AAChC,IAAI,OAAO,IAAI,CAAC;AAChB,EAAE,MAAM,EAAE,GAAG,KAAK,CAAC,MAAM,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,EAAE,MAAM,GAAG,SAAS,CAAC,EAAE,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC;AAC7E,EAAE,MAAM,SAAS,GAAG,gBAAgB,CAAC,KAAK,CAAC,CAAC;AAC5C,EAAE,IAAI,MAAM,GAAG,8BAA8B,CAAC,MAAM,EAAE,KAAK,EAAE,SAAS,EAAE,qBAAqB,CAAC,CAAC;AAC/F,EAAE,SAAS,6BAA6B,CAAC,IAAI,EAAE;AAC/C,IAAI,MAAM,SAAS,GAAG,YAAY,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;AAChD,IAAI,MAAM,GAAG,GAAG,SAAS,CAAC,MAAM,EAAE,EAAE,KAAK,EAAE,MAAM,EAAE,GAAG,GAAG,EAAE,OAAO,GAAG,SAAS,CAAC,GAAG,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC;AAC/F,IAAI,OAAO,8BAA8B,CAAC,cAAc,CAAC,cAAc,CAAC,EAAE,EAAE,OAAO,CAAC,EAAE,MAAM,CAAC,IAAI,CAAC,CAAC,EAAE,SAAS,EAAE,SAAS,EAAE,qBAAqB,CAAC,CAAC;AAClJ,GAAG;AACH,EAAE,IAAI,KAAK,CAAC,wBAAwB,KAAK,KAAK,EAAE;AAChD,IAAI,YAAY,CAAC,OAAO,CAAC,CAAC,IAAI,KAAK;AACnC,MAAM,IAAI,KAAK,CAAC,IAAI,CAAC,EAAE;AACvB,QAAQ,MAAM,UAAU,GAAG,aAAa,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC,CAAC;AAClE,QAAQ,MAAM,IAAI,CAAC,EAAE,UAAU,CAAC,CAAC,EAAE,6BAA6B,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;AAC1E,OAAO;AACP,KAAK,CAAC,CAAC;AACP,GAAG;AACH,EAAE,MAAM,eAAe,GAAG,uBAAuB,CAAC,KAAK,CAAC,CAAC;AACzD,EAAE,CAAC,eAAe,EAAE,GAAG,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,IAAI,KAAK;AAC7D,IAAI,MAAM,GAAG,GAAG,CAAC,EAAE,EAAE,qBAAqB,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;AACnD,IAAI,MAAM,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,6BAA6B,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;AAC/D,GAAG,CAAC,CAAC;AACL,EAAE,OAAO,CAAC,EAAE,cAAc,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC;AACxC,CAAC;AACD,SAAS,gBAAgB,CAAC,IAAI,EAAE;AAChC,EAAE,IAAI,OAAO,MAAM,KAAK,WAAW,IAAI,MAAM,CAAC,UAAU,KAAK,KAAK,CAAC,EAAE;AACrE,IAAI,OAAO,IAAI,CAAC;AAChB,GAAG;AACH,EAAE,MAAM,KAAK,GAAG,iBAAiB,CAAC,IAAI,CAAC,CAAC;AACxC,EAAE,OAAO,MAAM,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;AAClC,CAAC;AACD,SAAS,aAAa,CAAC,KAAK,EAAE;AAC9B,EAAE,MAAM,OAAO,GAAGJ,gBAAK,CAAC,OAAO,CAAC,MAAM;AACtC,IAAI,IAAI,CAAC,yBAAyB,CAAC,KAAK,CAAC;AACzC,MAAM,OAAO,EAAE,CAAC;AAChB,IAAI,OAAO,YAAY,CAAC,GAAG,CAAC,CAAC,IAAI,KAAK;AACtC,MAAM,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC;AACpC,QAAQ,OAAO,IAAI,CAAC;AACpB,MAAM,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC;AACnC,QAAQ,OAAO,IAAI,CAAC;AACpB,MAAM,MAAM,GAAG,GAAG,gBAAgB,CAAC,IAAI,CAAC,CAAC;AACzC,MAAM,OAAO,GAAG,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC;AACxC,KAAK,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;AACvB,GAAG,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC;AACd,EAAE,MAAM,CAAC,UAAU,EAAE,aAAa,CAAC,GAAGA,gBAAK,CAAC,QAAQ,CAAC,MAAM;AAC3D,IAAI,MAAM,MAAM,GAAG,OAAO,CAAC,IAAI,CAAC,CAAC,OAAO,KAAK,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;AAClE,IAAI,OAAO,MAAM,GAAG,MAAM,CAAC,IAAI,GAAG,IAAI,CAAC;AACvC,GAAG,CAAC,CAAC;AACL,EAAEA,gBAAK,CAAC,SAAS,CAAC,MAAM;AACxB,IAAI,MAAM,MAAM,GAAG,OAAO,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,EAAE,GAAG,EAAE,KAAK;AAClD,MAAM,MAAM,OAAO,GAAG,CAAC,EAAE,OAAO,EAAE,KAAK;AACvC,QAAQ,IAAI,OAAO,EAAE;AACrB,UAAU,aAAa,CAAC,IAAI,CAAC,CAAC;AAC9B,SAAS,MAAM;AACf,UAAU,aAAa,CAAC,CAAC,YAAY,KAAK,YAAY,KAAK,IAAI,GAAG,IAAI,GAAG,IAAI,CAAC,CAAC;AAC/E,SAAS;AACT,OAAO,CAAC;AACR,MAAM,GAAG,CAAC,gBAAgB,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;AAC9C,MAAM,OAAO,MAAM,GAAG,CAAC,mBAAmB,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;AAC9D,KAAK,CAAC,CAAC;AACP,IAAI,OAAO,MAAM,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,KAAK,KAAK,EAAE,CAAC,CAAC;AACpD,GAAG,CAAC,CAAC;AACL,EAAE,OAAO,UAAU,CAAC;AACpB,CAAC;AACD,MAAM,yBAAyB,GAAG,OAAO,MAAM,KAAK,WAAW,GAAGA,gBAAK,CAAC,eAAe,GAAGA,gBAAK,CAAC,SAAS,CAAC;AACnG,SAAS,iBAAiB,CAAC,KAAK,EAAE,EAAE,MAAM,EAAE,GAAG,EAAE,EAAE;AAC1D,EAAE,MAAM,UAAU,GAAG,aAAa,CAAC,KAAK,CAAC,CAAC;AAC1C,EAAE,MAAM,gBAAgB,GAAG,uBAAuB,CAAC,KAAK,CAAC,CAAC;AAC1D,EAAE,MAAM,gBAAgB,GAAG,uBAAuB,CAAC,KAAK,CAAC,CAAC;AAC1D,EAAE,MAAM,CAAC,IAAI,EAAE,OAAO,CAAC,GAAGA,gBAAK,CAAC,QAAQ,CAAC,MAAM;AAC/C,IAAI,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC;AAClC,MAAM,OAAO,IAAI,CAAC;AAClB,IAAI,OAAO,gBAAgB,CAAC;AAC5B,GAAG,CAAC,CAAC;AACL,EAAE,MAAM,uBAAuB,GAAG,+BAA+B,CAAC,KAAK,CAAC,CAAC;AACzE,EAAE,MAAM,YAAY,GAAGA,gBAAK,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;AAC3C,EAAE,MAAM,eAAe,GAAGA,gBAAK,CAAC,WAAW,CAAC,CAAC,KAAK,KAAK;AACvD,IAAI,YAAY,CAAC,OAAO,GAAG,IAAI,CAAC;AAChC,IAAI,OAAO,CAAC,KAAK,CAAC,CAAC;AACnB,GAAG,EAAE,EAAE,CAAC,CAAC;AACT,EAAE,yBAAyB,CAAC,MAAM;AAClC,IAAI,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC;AAClC,MAAM,OAAO;AACb,IAAI,MAAM,UAAU,GAAG,OAAO,CAAC,GAAG,EAAE,CAAC;AACrC,IAAI,MAAM,WAAW,GAAG,UAAU,IAAI,UAAU,IAAI,gBAAgB,CAAC;AACrE,IAAI,IAAI,IAAI,KAAK,WAAW,EAAE;AAC9B,MAAM,OAAO,CAAC,UAAU,IAAI,UAAU,IAAI,gBAAgB,CAAC,CAAC;AAC5D,KAAK;AACL,GAAG,EAAE,EAAE,CAAC,CAAC;AACT,EAAE,yBAAyB,CAAC,MAAM;AAClC,IAAI,IAAI,YAAY,CAAC,OAAO,EAAE;AAC9B,MAAM,IAAI,IAAI,EAAE;AAChB,QAAQ,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;AAC1B,OAAO,MAAM;AACb,QAAQ,OAAO,CAAC,KAAK,EAAE,CAAC;AACxB,OAAO;AACP,KAAK;AACL,GAAG,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC;AACb,EAAE,yBAAyB,CAAC,MAAM;AAClC,IAAI,MAAM,UAAU,GAAG,OAAO,CAAC,GAAG,EAAE,CAAC;AACrC,IAAI,IAAI,UAAU;AAClB,MAAM,OAAO;AACb,IAAI,MAAM,UAAU,GAAG,UAAU,IAAI,gBAAgB,CAAC;AACtD,IAAI,IAAI,UAAU,KAAK,IAAI;AAC3B,MAAM,OAAO;AACb,IAAI,OAAO,CAAC,UAAU,CAAC,CAAC;AACxB,GAAG,EAAE,CAAC,IAAI,EAAE,UAAU,EAAE,gBAAgB,CAAC,CAAC,CAAC;AAC3C,EAAE,yBAAyB,CAAC,MAAM;AAClC,IAAI,IAAI,CAAC,IAAI;AACb,MAAM,OAAO,KAAK,CAAC,CAAC;AACpB,IAAI,IAAI,CAAC,uBAAuB;AAChC,MAAM,OAAO,KAAK,CAAC,CAAC;AACpB,IAAI,MAAM,MAAM,GAAG,OAAO,CAAC,GAAG,EAAE,CAAC;AACjC,IAAI,MAAM,OAAO,GAAG,gBAAgB,KAAK,IAAI,CAAC;AAC9C,IAAI,IAAI,CAAC,MAAM,IAAI,CAAC,OAAO;AAC3B,MAAM,OAAO,KAAK,CAAC,CAAC;AACpB,IAAI,MAAM,SAAS,GAAG,qBAAqB,CAAC,IAAI,CAAC,CAAC;AAClD,IAAI,MAAM,UAAU,GAAG,MAAM,IAAI,QAAQ,CAAC,IAAI,CAAC;AAC/C,IAAI,UAAU,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;AACxC,IAAI,OAAO,MAAM;AACjB,MAAM,UAAU,CAAC,SAAS,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;AAC7C,KAAK,CAAC;AACN,GAAG,EAAE,CAAC,uBAAuB,EAAE,MAAM,EAAE,IAAI,EAAE,gBAAgB,CAAC,CAAC,CAAC;AAChE,EAAE,OAAO,CAAC,IAAI,EAAE,eAAe,CAAC,CAAC;AACjC,CAAC;AACM,SAAS,iBAAiB,CAAC,KAAK,EAAE,IAAI,EAAE;AAC/C,EAAE,MAAM,CAAC,WAAW,CAAC,GAAGA,gBAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;AAC7C,EAAE,MAAM,qBAAqB,GAAGA,gBAAK,CAAC,OAAO,CAAC,MAAM;AACpD,IAAI,IAAI,CAAC,WAAW;AACpB,MAAM,OAAO,IAAI,CAAC;AAClB,IAAI,IAAI,CAAC,+BAA+B,CAAC,KAAK,CAAC;AAC/C,MAAM,OAAO,IAAI,CAAC;AAClB,IAAI,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC;AAClC,MAAM,OAAO,KAAK,CAAC;AACnB,IAAI,MAAM,EAAE,GAAG,KAAK,CAAC,MAAM,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,EAAE,MAAM,GAAG,SAAS,CAAC,EAAE,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC;AAC/E,IAAI,MAAM,SAAS,GAAG,gBAAgB,CAAC,KAAK,CAAC,CAAC;AAC9C,IAAI,OAAO,aAAa,CAAC,cAAc,CAAC,EAAE,EAAE,KAAK,CAAC,EAAE;AACpD,MAAM,MAAM,EAAE,aAAa,CAAC,cAAc,CAAC,cAAc,CAAC,EAAE,EAAE,MAAM,CAAC,EAAE,4BAA4B,CAAC,MAAM,EAAE,KAAK,EAAE,SAAS,EAAE,qBAAqB,CAAC,CAAC,EAAE;AACvJ,QAAQ,KAAK;AACb,OAAO,CAAC;AACR,MAAM,WAAW,EAAE,KAAK,CAAC,MAAM;AAC/B,KAAK,CAAC,CAAC;AACP,GAAG,EAAE,CAAC,WAAW,EAAE,KAAK,CAAC,CAAC,CAAC;AAC3B,EAAE,MAAM,aAAa,GAAGA,gBAAK,CAAC,OAAO,CAAC,MAAM;AAC5C,IAAI,IAAI,CAAC,IAAI;AACb,MAAM,OAAO,IAAI,CAAC;AAClB,IAAI,IAAI,+BAA+B,CAAC,KAAK,CAAC;AAC9C,MAAM,OAAO,IAAI,CAAC;AAClB,IAAI,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC;AAClC,MAAM,OAAO,KAAK,CAAC;AACnB,IAAI,IAAI,IAAI,KAAK,uBAAuB,CAAC,KAAK,CAAC,EAAE;AACjD,MAAM,OAAO,aAAa,CAAC,cAAc,CAAC,EAAE,EAAE,KAAK,CAAC,EAAE,EAAE,WAAW,EAAE,IAAI,EAAE,CAAC,CAAC;AAC7E,KAAK;AACL,IAAI,OAAO,aAAa,CAAC,cAAc,CAAC,EAAE,EAAE,KAAK,CAAC,EAAE;AACpD,MAAM,MAAM,EAAE,cAAc,CAAC,cAAc,CAAC,EAAE,EAAE,KAAK,CAAC,MAAM,CAAC,EAAE,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;AACxF,MAAM,WAAW,EAAE,IAAI;AACvB,MAAM,WAAW,EAAE,KAAK,CAAC,MAAM;AAC/B,KAAK,CAAC,CAAC;AACP,GAAG,EAAE,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC,CAAC;AACpB,EAAE,OAAO,qBAAqB,IAAI,aAAa,CAAC;AAChD,CAAC;AACW,MAAC,gBAAgB,GAAGA,gBAAK,CAAC,aAAa,CAAC,IAAI,EAAE;AACnD,SAAS,YAAY,GAAG;AAC/B,EAAE,MAAM,cAAc,GAAGA,gBAAK,CAAC,UAAU,CAAC,gBAAgB,CAAC,CAAC;AAC5D,EAAE,IAAI,CAAC,cAAc,EAAE;AACvB,IAAI,MAAM,IAAI,KAAK,CAAC,CAAC,uDAAuD,CAAC,CAAC,CAAC;AAC/E,GAAG;AACH,EAAE,OAAO,cAAc,CAAC;AACxB,CAAC;AACM,SAAS,uBAAuB,CAAC;AACxC,EAAE,YAAY;AACd,EAAE,aAAa;AACf,EAAE,cAAc;AAChB,CAAC,EAAE;AACH,EAAE,SAAS,iBAAiB,CAAC;AAC7B,IAAI,QAAQ;AACZ,IAAI,MAAM;AACV,IAAI,cAAc;AAClB,GAAG,EAAE;AACL,IAAI,MAAM,KAAK,GAAGA,gBAAK,CAAC,UAAU,CAAC,YAAY,CAAC,CAAC;AACjD,IAAI,IAAI,CAAC,KAAK,EAAE;AAChB,MAAM,MAAM,IAAI,KAAK,CAAC,8DAA8D,CAAC,CAAC;AACtF,KAAK;AACL,IAAI,MAAM,UAAU,GAAG,iBAAiB,CAAC,KAAK,EAAE,EAAE,MAAM,EAAE,CAAC,CAAC;AAC5D,IAAI,MAAM,cAAc,GAAG,iBAAiB,CAAC,KAAK,EAAE,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;AACnE,IAAI,uBAAuBA,gBAAK,CAAC,aAAa,CAACA,gBAAK,CAAC,QAAQ,EAAE,IAAI,kBAAkBA,gBAAK,CAAC,aAAa,CAAC,cAAc,EAAE;AACzH,MAAM,cAAc;AACpB,KAAK,CAAC,kBAAkBA,gBAAK,CAAC,aAAa,CAAC,aAAa,EAAE;AAC3D,MAAM,KAAK,EAAE,cAAc;AAC3B,KAAK,kBAAkBA,gBAAK,CAAC,aAAa,CAAC,gBAAgB,CAAC,QAAQ,EAAE;AACtE,MAAM,KAAK,EAAE,UAAU;AACvB,KAAK,EAAE,QAAQ,CAAC,CAAC,CAAC,CAAC;AACnB,GAAG;AACH,EAAE,OAAO,iBAAiB,CAAC;AAC3B,CAAC;AACD,SAAS,aAAa,CAAC;AACvB,EAAE,MAAM,GAAG,eAAe;AAC1B,CAAC,GAAG,EAAE,EAAE;AACR,EAAE,OAAO,CAAC;AACV,qCAAqC,EAAE,WAAW,CAAC;AACnD,cAAc,EAAE,MAAM,CAAC,gBAAgB,EAAE,uBAAuB,CAAC;AACjE,sBAAsB,CAAC,CAAC;AACxB,CAAC;AACM,SAAS,6BAA6B,CAAC,OAAO,EAAE;AACvD,EAAE,uBAAuBA,gBAAK,CAAC,aAAa,CAAC,QAAQ,EAAE;AACvD,IAAI,GAAG,EAAE,yBAAyB;AAClC,IAAI,uBAAuB,EAAE,EAAE,MAAM,EAAE,aAAa,CAAC,OAAO,CAAC,EAAE;AAC/D,GAAG,CAAC,CAAC;AACL,CAAC;AACM,SAAS,yBAAyB,CAAC,OAAO,EAAE;AACnD,EAAE,OAAO,CAAC,QAAQ,EAAE,aAAa,CAAC,OAAO,CAAC,CAAC,UAAU,CAAC,CAAC;AACvD;;ACjTO,SAAS,SAAS,GAAG;AAC5B,EAAE,OAAO,CAAC,CAAC,GAAG,CAAC,EAAEK,aAAM,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;AAC9B,CAAC;AACD,SAAS,CAAC,IAAI,GAAGA,aAAM,CAAC,IAAI;;ACH5B,MAAM,aAAa,GAAG,CAAC,kBAAkB,KAAK,CAAC,KAAK,KAAK,CAAC,KAAK,KAAK;AACpE,EAAE,MAAM,CAAC,GAAG,kBAAkB,CAACN,iBAAU,CAAC,KAAK,CAAC,EAAE,KAAK,CAAC,CAAC;AACzD,EAAE,OAAO,CAAC,KAAK,IAAI,GAAG,GAAG,GAAG,CAAC,IAAI,KAAK,CAAC;AACvC,CAAC,CAAC;AACK,MAAM,YAAY,GAAG;AAC5B,EAAE,WAAW,EAAE,aAAa,CAACO,uBAAgB,CAAC;AAC9C,EAAE,WAAW,EAAE,aAAa,CAACC,uBAAgB,CAAC;AAC9C,CAAC;;ACPD,MAAM,SAAS,GAAG,CAAC,MAAM,CAAC,CAAC;AAC3B,MAAM,UAAU,GAAG,CAAC,2BAA2B,CAAC,CAAC;AACjD,MAAM,SAAS,GAAG,CAAC,CAAC,EAAE,SAAS,CAAC,qBAAqB,EAAE,UAAU,CAAC,2BAA2B,CAAC,CAAC;AAC/F,MAAM,UAAU,GAAG,CAAC,IAAI,CAAC,CAAC;AAC1B,MAAM,UAAU,GAAG,CAAC,uBAAuB,EAAE,UAAU,CAAC,YAAY,CAAC,CAAC;AACtE,MAAM,YAAY,GAAG,IAAI,MAAM,CAAC,CAAC,GAAG,EAAE,SAAS,CAAC,CAAC,EAAE,UAAU,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;AACvE,MAAM,YAAY,GAAG,IAAI,MAAM,CAAC,CAAC,UAAU,EAAE,SAAS,CAAC,gCAAgC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;AAC/F,MAAM,cAAc,GAAG,CAAC,QAAQ,KAAK;AACrC,EAAE,IAAI,OAAO,CAAC;AACd,EAAE,IAAI,SAAS,GAAG,CAAC,CAAC;AACpB,EAAE,MAAM,MAAM,GAAG,EAAE,CAAC;AACpB,EAAE,OAAO,OAAO,GAAG,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE;AAChD,IAAI,MAAM,GAAG,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,CAAC,GAAG,OAAO,CAAC;AACxD,IAAI,MAAM,MAAM,GAAG,YAAY,CAAC,IAAI,CAAC,CAAC;AACtC,IAAI,IAAI,MAAM,EAAE;AAChB,MAAM,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,SAAS,EAAE,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC;AAC5D,MAAM,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,IAAI,CAAC,EAAE,IAAI,CAAC,EAAE,KAAK,CAAC,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC;AAC9E,MAAM,SAAS,GAAG,OAAO,CAAC,KAAK,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC;AACpD,KAAK;AACL,GAAG;AACH,EAAE,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,SAAS,EAAE,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC;AAC1D,EAAE,OAAO,MAAM,CAAC;AAChB,CAAC,CAAC;AACU,MAAC,eAAe,GAAG,CAAC,SAAS,KAAK,CAAC,QAAQ,KAAK;AAC5D,EAAE,IAAI,OAAO,QAAQ,KAAK,QAAQ;AAClC,IAAI,OAAO,QAAQ,CAAC;AACpB,EAAE,IAAI,OAAO,CAAC;AACd,EAAE,IAAI,SAAS,GAAG,CAAC,CAAC;AACpB,EAAE,MAAM,MAAM,GAAG,EAAE,CAAC;AACpB,EAAE,OAAO,OAAO,GAAG,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE;AAChD,IAAI,MAAM,GAAG,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,GAAG,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,CAAC,GAAG,OAAO,CAAC;AAC3E,IAAI,IAAI,KAAK,EAAE;AACf,MAAM,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,SAAS,EAAE,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC;AAC5D,MAAM,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AACzB,MAAM,cAAc,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,KAAK,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;AAC3D,MAAM,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AACzB,MAAM,SAAS,GAAG,OAAO,CAAC,KAAK,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC;AACpD,KAAK,MAAM;AACX,MAAM,MAAM,MAAM,GAAG,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;AACrD,MAAM,IAAI,MAAM,EAAE;AAClB,QAAQ,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,SAAS,EAAE,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC;AAC9D,QAAQ,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,IAAI,CAAC,EAAE,KAAK,CAAC,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,GAAG,IAAI,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC;AACpF,QAAQ,SAAS,GAAG,OAAO,CAAC,KAAK,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC;AACtD,OAAO;AACP,KAAK;AACL,GAAG;AACH,EAAE,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,SAAS,EAAE,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC;AAC1D,EAAE,OAAO,MAAM,CAAC;AAChB;;AChDY,MAAC,eAAe,GAAG,CAAC,MAAM,EAAE,QAAQ,KAAK,CAAC,KAAK,EAAE,YAAY,KAAK;AAC9E,EAAE,MAAM,KAAK,GAAG,QAAQ,EAAE,CAAC;AAC3B,EAAE,OAAOC,aAAO,CAAC,MAAM,MAAM,CAAC,KAAK,EAAE,YAAY,CAAC,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,KAAK,EAAE,YAAY,EAAE,KAAK,CAAC,CAAC,CAAC;AAC7F;;;;;;;;;;;;;;;;;;;"}